<!DOCTYPE html>
<html>
    <head>
        <title>Create A Level 1 Character</title>
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>

    <style>
        body { 
        animation: fadeInAnimation ease 0.7s;
        animation-iteration-count: 1; 
        animation-fill-mode: forwards; 
    } 
      
    @keyframes fadeInAnimation { 
        0% { 
            opacity: 0; 
        } 
        100% { 
            opacity: 1; 
         } 
    } 

    </style>
    

    <body>
        <h1>Create A Level 1 Character</h1>

        <section id="container_to_be_aligned">
        <form method="post" action="/add">
            <label>Create A Level 1 Character</label>
            <br>
            <br>
            Name: <input type="text" name="Name" placeholder="Enter character name :" required>
            <br>
            Race:   <select id="cRaceID" name="Race" placeholder="Enter race :" onchange="racialStatInc()">
                        <option value="Human">Human</option>  
                        <option value="Tiefling">Tiefling</option>
                        <option value="Half-Orc">Half-Orc</option>
                        <option value="Dragonborn">Dragonborn</option>
                        <option value="Half-Elf">Half-Elf</option>
                        <optgroup label="Elf">
                            <option value="High Elf">High Elf</option>
                            <option value="Wood Elf">Wood Elf</option>
                            <option value="Dark Elf">Dark Elf</option>
                        </optgroup>
                        <optgroup label="Dwarf">
                            <option value="Hill Dwarf">Hill Dwarf</option>
                            <option value="Mountain Dwarf">Mountain Dwarf</option>
                        </optgroup>
                        <optgroup label="Halfling">
                            <option value="Lightfoot Halfling">Lightfoot Halfling</option>
                            <option value="Stout Halfling">Stout Halfling</option>
                        </optgroup>
                        <optgroup label="Gnome">
                            <option value="Forest Gnome">Forest Gnome</option>
                            <option value="Rock Gnome">Rock Gnome</option>
                        </optgroup>
                    </select>
            <br>
            Class:  <select id="cClassID" name="Class" onchange="classEffects()">
                        <option value="Barbarian">Barbarian</option>
                        <option value="Bard">Bard</option>
                        <option value="Cleric">Cleric</option>
                        <option value="Druid">Druid</option>
                        <option value="Fighter">Fighter</option>
                        <option value="Monk">Monk</option>
                        <option value="Paladin">Paladin</option>
                        <option value="Ranger">Ranger</option>
                        <option value="Rogue">Rogue</option>
                        <option value="Sorcerer">Sorcerer</option>
                        <option value="Warlock">Warlock</option>
                        <option value="Wizard">Wizard</option>
                    </select>
            <br>
            Owner: <input type="text" name="Owner" placeholder="Enter player's Name :" required>
            <br>
            <!-- HP -->
            <input id="HPID" type="hidden" name="HP"/>

            <!-- maxHP -->
            <input id="MaxHPID" type="hidden" name="MaxHP"/>

            <!-- speed -->
            <input id="spdID" type="hidden" name="Speed"/>

            <!-- xp -->
            <input type="hidden" name="XP" value=0 />

            <!-- level -->
            <input type="hidden" name="Level" value=1 />

            <!-- movecap -->
            <input id="cMoveID" type="hidden" name="MoveCapacity"/>

            <!-- cCarryCapacity -->
            <input id="cCarryID" type="hidden" name="CarryCapacity"/>

            <!-- carryld -->
            <input type="hidden" name="CarryLoad" value=0 />

            <!-- cHitDice -->
            <input type="hidden" name="HitDice" value=1 />

            <!-- cHitDieType -->
            <input id="hitdieID" type="hidden" name="HitDieType"/>

            <!-- cProficiencyBonus -->
            <input type="hidden" name="ProficiencyBonus" value=2 />

            <!-- cInitMod -->
            <input id="initModID" type="hidden" name="InitMod"/>

            <!-- pp -->
            <input id="ppID" type="hidden" name="PassivePerception"/>

            <!-- stats -->
            <input id="strIP" type="hidden" name="Stats.Strength.Value"/>
            <input id="strModIP" type="hidden" name="Stats.Strength.Mod"/>
            
            <input id="dexIP" type="hidden" name="Stats.Dexterity.Value"/>
            <input id="dexModIP" type="hidden" name="Stats.Dexterity.Mod"/>
            
            <input id="conIP" type="hidden" name="Stats.Constitution.Value"/>
            <input id="conModIP" type="hidden" name="Stats.Constitution.Mod"/>

            <input id="intIP" type="hidden" name="Stats.Intelligence.Value"/>
            <input id="intModIP" type="hidden" name="Stats.Intelligence.Mod"/>
            
            <input id="wisIP" type="hidden" name="Stats.Wisdom.Value"/>
            <input id="wisModIP" type="hidden" name="Stats.Wisdom.Mod"/>
            
            <input id="chaIP" type="hidden" name="Stats.Charisma.Value"/>
            <input id="chaModIP" type="hidden" name="Stats.Charisma.Mod"/>

            <!-- accept base stats -->
            <br><br>
            <label>Arrange the numbers 8, 10, 11, 12, 14 and 15 amongst your stats :</label>
                <br>
                <p id="optionalIncrease"><p>
                <input id="strBaseId" oninput="strSet()" type="number" name="strBase" placeholder="Enter Strength :" required>
                <br>
                <input id="dexBaseId" oninput="dexSet()" type="number" name="dexBase" placeholder="Enter Dexterity :" required>
                <br>
                <input id="conBaseId" oninput="conSet()" type="number" name="conBase" placeholder="Enter Constitution :" required>
                <br>
                <input id="intBaseId" oninput="intSet()" type="number" name="intBase" placeholder="Enter Intelligence :" required>
                <br>
                <input id="wisBaseId" oninput="wisSet()" type="number" name="wisBase" placeholder="Enter Wisdom :" required>
                <br>
                <input id="chaBaseId" oninput="chaSet()" type="number" name="chaBase" placeholder="Enter Charisma :" required>
                <br>

            <!-- coin  -->
            <input type="hidden" name="Coins" value=0 />

            <!-- inventory, weapons, spells -->

            <p id="statprint"></p>
            
            <p id="statprint3"></p>

            <button type="submit" value="Enter">Enter</button>
        </section>
        </form> 








<!-- __________________________________________________________________________________________________________________________________________________________________ -->

    <!-- JS HERE  -->
    <script type="text/javascript">
            function racialStatInc() {
            var race = document.getElementById("cRaceID").value
    
            if (race == "Human") {
                str=1; dex=1; con=1; int=1; wis=1; cha=1;
                document.getElementById("spdID").value = parseInt(30);
            }
            else if (race == "Tiefling") {
                str=0; dex=0; con=0; int=1; wis=0; cha=2;
                document.getElementById("spdID").value = parseInt(30);
            }
            else if (race == "Half-Orc") {
                str=2; dex=0; con=1; int=0; wis=0; cha=0;
                document.getElementById("spdID").value = parseInt(30);
            }
            else if (race == "Dragonborn") {
                str=2; dex=0; con=0; int=0; wis=0; cha=1;
                document.getElementById("spdID").value = parseInt(30);
            }
            else if (race == "Half-Elf") {
                str=0; dex=0; con=0; int=0; wis=0; cha=2;
                document.getElementById("spdID").value = parseInt(30);
                document.getElementById("optionalIncrease").innerHTML = "Half-elves may increase any two ability scores (of your choice) by 1."
            }

            else if (race == "High Elf") {
                str=0; dex=2; con=0; int=1; wis=0; cha=0;
                document.getElementById("spdID").value = parseInt(30);
            }
            else if (race == "Wood Elf") {
                str=0; dex=2; con=0; int=0; wis=1; cha=0;
                document.getElementById("spdID").value = parseInt(35);
            }
            else if (race == "Dark Elf") {
                str=0; dex=2; con=0; int=0; wis=0; cha=1;
                document.getElementById("spdID").value = parseInt(30);
            }

            else if (race == "Hill Dwarf") {
                str=0; dex=0; con=2; int=0; wis=1; cha=0;
                document.getElementById("spdID").value = parseInt(25);
                // max hp increases by 1, and further by 1 each time a level is gained
            }
            else if (race == "Mountain Dwarf") {
                str=2; dex=0; con=2; int=0; wis=0; cha=0;   
                document.getElementById("spdID").value = parseInt(25);
            }

            else if (race == "Lightfoot Halfling") {
                str=0; dex=2; con=0; int=0; wis=0; cha=1;
                document.getElementById("spdID").value = parseInt(25);
            }
            else if (race == "Stout Halfling") {
                str=0; dex=2; con=1; int=0; wis=0; cha=0;
                document.getElementById("spdID").value = parseInt(25);
            }

            else if (race == "Forest Gnome") {
                str=0; dex=1; con=0; int=2; wis=0; cha=0;
                document.getElementById("spdID").value = parseInt(25);
            }
            else if (race == "Rock Gnome") {
                str=0; dex=0; con=1; int=2; wis=0; cha=0;
                document.getElementById("spdID").value = parseInt(25);
            }
            // print all modifiers
            document.getElementById("statprint").innerHTML = "str is "+str+"<br>dex is "+dex+"<br>con is "+con+"<br>int is "+int+"<br>wis is "+wis+"<br>cha is "+cha;
        }

        function classEffects() {
            var cClass = document.getElementById("cClassID").value;

            // determine cHitDieType
            if (cClass == "Barbarian") {
                document.getElementById("hitdieID").value = "d12";
            }
            else if (cClass == "Sorcerer" || cClass == "Wizard") {
                document.getElementById("hitdieID").value = "d6";
            }
            else if (cClass == "Bard" || cClass == "Cleric" || cClass == "Monk" || cClass == "Druid" || cClass == "Rogue" || cClass == "Warlock" ) {
                document.getElementById("hitdieID").value = "d8";
            }
            else if (cClass == "Fighter" || cClass == "Paladin" || cClass == "Ranger") {
                document.getElementById("hitdieID").value = "d10";
            }

        }



        // determining stats...
        function strSet() {
            var strBase = parseInt(document.getElementById("strBaseId").value);
            // str+=strBase;
            document.getElementById("statprint3").innerHTML = "strAdditional is " + str + ", strBase is " + strBase;
            document.getElementById("strIP").value = str + strBase;
            document.getElementById("strModIP").value = parseInt( (str+strBase-10)/2 );

            // also determine carry capacity and move capacity
            document.getElementById("cMoveID").value = 15*(str+strBase);
            document.getElementById("cCarryID").value = 30*(str+strBase);
        }
        function dexSet() {
            var dexBase = parseInt(document.getElementById("dexBaseId").value);
            // dex+=dexBase;
            document.getElementById("statprint3").innerHTML = "dexAdditional is " + dex + ", dexBase is " + dexBase;
            document.getElementById("dexIP").value = dex + dexBase;
            document.getElementById("dexModIP").value = parseInt( (dex+dexBase-10)/2 );

            document.getElementById("initModID").value = parseInt(document.getElementById("dexModIP").value);
        }
        function conSet() {
            var conBase = parseInt(document.getElementById("conBaseId").value);
            
            document.getElementById("statprint3").innerHTML = "conAdditional is " + con + ", conBase is " + conBase;
            document.getElementById("conIP").value = con + conBase;
            document.getElementById("conModIP").value = parseInt( (con+conBase-10)/2 );

            // determing starting hp
            var cClass = document.getElementById("cClassID").value;
            var conMod = parseInt(document.getElementById("conModIP").value);

            var diceVal;
            if (cClass == "Barbarian") {
                diceVal = parseInt(12);
            }
            else if (cClass == "Sorcerer" || cClass == "Wizard") {
                diceVal = parseInt(6);
            }
            else if (cClass == "Bard" || cClass == "Cleric" || cClass == "Monk" || cClass == "Druid" || cClass == "Rogue" || cClass == "Warlock" ) {
                diceVal = parseInt(8);
            }
            else if (cClass == "Fighter" || cClass == "Paladin" || cClass == "Ranger") {
                diceVal = parseInt(10);
            }
            document.getElementById("HPID").value = diceVal + conMod;
            document.getElementById("MaxHPID").value = diceVal + conMod;
        }
        function intSet() {
            var intBase = parseInt(document.getElementById("intBaseId").value);

            document.getElementById("statprint3").innerHTML = "intAdditional is " + int + ", intBase is " + intBase;
            document.getElementById("intIP").value = int + intBase;
            document.getElementById("intModIP").value = parseInt( (int+intBase-10)/2 );
        }
        function wisSet() {
            var wisBase = parseInt(document.getElementById("wisBaseId").value);

            document.getElementById("statprint3").innerHTML = "wisAdditional is " + wis + ", wisBase is " + wisBase;
            document.getElementById("wisIP").value = wis + wisBase;
            document.getElementById("wisModIP").value = parseInt( (wis+wisBase-10)/2 );

            document.getElementById("ppID").value = parseInt( (wis+wisBase-10)/2  + 10);
        }
        function chaSet() {
            var chaBase = parseInt(document.getElementById("chaBaseId").value);

            document.getElementById("statprint3").innerHTML = "chaAdditional is " + cha + ", chaBase is " + chaBase;
            document.getElementById("chaIP").value = cha + chaBase;
            document.getElementById("chaModIP").value = parseInt( (cha+chaBase-10)/2 );
        }

        // default creature speed as 30ft
        document.getElementById("spdID").value = parseInt(30);
                        
        // (start off human)
        document.getElementById("cRaceID").value = "Human"
        str=1; dex=1; con=1; int=1; wis=1; cha=1;

        // printing all racial/class modifiers
        document.getElementById("statprint").innerHTML = "str is "+str+"<br>dex is "+dex+"<br>con is "+con+"<br>int is "+int+"<br>wis is "+wis+"<br>cha is "+cha;

        // (start off barbarian)
        document.getElementById("cClassID").value = "Barbarian";
        document.getElementById("hitdieID").value = "d12";

        // display current stat increases
        document.getElementById("statprint").innerHTML = "str is "+str+"<br>dex is "+dex+"<br>con is "+con+"<br>int is "+int+"<br>wis is "+wis+"<br>cha is "+cha;

        var race = document.getElementById("cRaceID").value;
        if (race=="Half-Elf") 
        {
            document.getElementById("optionalIncrease").innerHTML = "Half-elves may increase two other ability scores (of your choice) by 1 each."
        }

    </script>

    </body>
</html>
